<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>种番茄</title>
    <style>
    .box{
        display: flex;
    }
    /* .left{
        order: 1;
    } */
    .right{
        border: 1px solid #c6c6c6;
        padding: 20px;
        flex: 1;
    }
    </style>
</head>

<body>
<div class="box">
    <div id="blocklyDiv" style="height: 480px; width: 600px;" class='left'></div>
    <button id="button" class='center'>生成代码</button>
    <div id="showCode" class='right'></div>
</div>
    

    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="blockly_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="msg/js/zh-hans.js"></script>
    <script src="blocks/actions.js"></script>
    <script src="generators/python/action.js"></script>
    <script src="python_compressed.js"></script>
    <script src="generators/python/action.js"></script>

    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
        <block type="controls_repeat_ext"></block>
        <block type="math_number">
            <field name="NUM">123</field>
        </block>
        <block type="math_arithmetic"></block>
        <block type="plant"></block>
        <block type="banana"></block>
        <block type="text"></block>
        <block type="text_print"></block>
    </xml>

    <script>
        var demoWorkspace = Blockly.inject('blocklyDiv',
            {
                media: 'media/',
                toolbox: document.getElementById('toolbox')
            });
        $('#button').click(function () {
            var code = Blockly.Python.workspaceToCode(demoWorkspace);
            console.log(code);
            $('#showCode').html(code);
        });
    </script>
</body>

</html>